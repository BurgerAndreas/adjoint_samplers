defaults:
  - _self_
  - experiment: demo_asbs
  - lancher: slrm
  - c: base

project: adjoint_sampler
train_itr_per_epoch: 100
init_stage: adjoint

seed: 0

clip_grad_norm: false
checkpoint: null
save_freq: 100

# how many samples to cluster, null means use all samples. More are more accurate but slower to cluster
num_samples_clustering: null
# whether to perform clustering by pairwise RMSD (can be slow for large sample sets)
cluster_by_rmsd: false
# whether to perform clustering by MBTR (Many-Body Tensor Representation) descriptors (can be slow for large sample sets)
cluster_by_mbtr: false
# maximum number of samples to use for 2D projection (t-SNE/UMAP) for performance
max_samples_projection: 5000
hdbscan:
  # minimum cluster size for HDBSCAN clustering
  min_samples: 5

# optional axis limits for plotting
energy_min: null
energy_max: null
dist_min: null
dist_max: null

timesteps:
  t0: 0.0
  t1: 1.0
  steps: ${nfe}
  rescale_t: ${rescale_t}

# === hardward related  ===
resample_batch_size: 512
train_batch_size: 512
eval_batch_size: 1000
num_eval_samples: ${eval_batch_size}

# temperature schedule
temperature:
  schedule: constant  # options: constant, linear
  beta_start: 1.0     # used for constant and linear
  beta_end: 1.0       # used for linear decay over total batches
  decay_start_epoch: 0  # linear decay begins after this epoch (0-based)

# === paths  ===
# dataset:
#   datapath: /project/aip-aspuru/aburger/Transition1x/data/transition1x.h5

# energy:
#   model_ckpt: /project/aip-aspuru/aburger/hip/ckpt/hip_v2.ckpt

# dataset:
#   datapath: /ssd/Code/Datastore/transition1x.h5

# energy:
#   model_ckpt: /ssd/Code/hip/ckpt/hip_v2.ckpt

# === logging  ===
use_wandb: True
slurm_job_id: null
save_ckpt: true

# Stores the command line arguments overrides
override_dirname: ${hydra:job.override_dirname}

hydra:
  job:
    chdir: true